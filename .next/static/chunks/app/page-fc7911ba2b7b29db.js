(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{33792:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>x});var s=l(95155),a=l(12115),r=l(74500),n=l(14170),i=l(74633),o=l(18593),c=l(66766);let d=[{label:"Απλή επίσκεψη",duration:"60 λεπτά"},{label:"Αντιμετώπιση μυοσκελετικού πόνου",duration:"40 λεπτά"},{label:"Αντιμετώπιση κεφαλαγίας - ημικρανίας",duration:"30 λεπτά"},{label:"Αντιμετώπιση αυχενικού συνδρόμου",duration:"40 λεπτά"},{label:"Αντιμετώπιση οσφυαλγίας",duration:"40 λεπτά"},{label:"Αντιμετώπιση άγχους",duration:"40 λεπτά"},{label:"Διακοπή καπνίσματος",duration:"30 λεπτά"},{label:"Αντιμετώπιση δυσμηνόρροιας",duration:"40 λεπτά"},{label:"Αντιμετώπιση Παχυσαρκίας",duration:"40 λεπτά"},{label:"Θεραπευτική Συνεδρία",duration:"40 λεπτά"}];function x(){var e,t;let[l,x]=(0,a.useState)({service:d[0].label,date:"",time:"",name:"",telephone:"",email:""}),[b,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[j,v]=(0,a.useState)([]),[w,N]=(0,a.useState)(null),[k,y]=(0,a.useState)(!1),[C,A]=(0,a.useState)(null),[D,F]=(0,a.useState)([]),[E,B]=(0,a.useState)(0),[S,L]=(0,a.useState)(!1),[M,z]=(0,a.useState)(null),W=(0,a.useRef)(null),[I,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{L(!0)},[]);let _=(0,a.useMemo)(()=>{if(!S)return[];let e=[],t=new Date;for(let l=0;l<7;l++){let s=new Date(t);s.setDate(t.getDate()+l),e.push({date:s,label:s.toLocaleDateString("el-GR",{weekday:"short",day:"numeric",month:"short"}),value:s.toISOString().split("T")[0]})}return e},[S]),O=e=>{x({...l,[e.target.name]:e.target.value})},R=async e=>{e.preventDefault(),p(!0),g(null);try{let e=await fetch("/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:l.service,date:l.date,time:l.time,name:l.name,telephone:l.telephone,email:l.email})}),t=await e.json();e.ok?(g("Η κράτησή σας καταχωρήθηκε με επιτυχία!"),x({service:"",date:"",time:"",name:"",telephone:"",email:""}),setTimeout(()=>{u(!1),g(null),T(!0)},1200)):g(t.error||"Σφάλμα κατά την αποθήκευση της κράτησης.")}catch(e){g("Σφάλμα κατά την αποθήκευση της κράτησης.")}finally{p(!1)}};(0,a.useEffect)(()=>{!async function(){try{let e=await fetch("/api/global-timeslots"),t=await e.json();Array.isArray(t)?v(t):v([])}catch(e){v([])}}()},[]),(0,a.useEffect)(()=>{if(!l.date)return void N(null);y(!0),A(null);let e=new Date(l.date).getDay(),t=j.filter(t=>Number(t.weekday)===Number(e)).map(e=>e.time);N((t.length>0?t:[]).sort((e,t)=>e.localeCompare(t,"en",{numeric:!0}))),async function(){try{let e=await fetch("/api/date-overrides?date=".concat(l.date)),t=await e.json();if(Array.isArray(t)&&t.some(e=>e.available)){let e=t.filter(e=>e.available).map(e=>e.time);N((e.length>0?e:[]).sort((e,t)=>e.localeCompare(t,"en",{numeric:!0})))}}catch(e){A("Σφάλμα κατά τη φόρτωση των διαθέσιμων ωρών.")}finally{y(!1)}}()},[l.date,j,E]);let q=(0,a.useMemo)(()=>{if(!l.date||!w)return w;let e=new Date,t=new Date(l.date);if(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()){let t=60*e.getHours()+e.getMinutes();return w.filter(e=>{let[l,s]=e.split(":");return 60*parseInt(l)+parseInt(s)>t})}return w},[l.date,w]);return((0,a.useEffect)(()=>{if(!l.date)return void F([]);!async function(){try{let e=await fetch("/api/bookings-list"),t=await e.json();if(Array.isArray(t)){let e=t.filter(e=>e.date===l.date).map(e=>e.time&&e.time.split(/\s|-/)[0]);F(e)}else F([])}catch(e){F([])}}()},[l.date]),(0,a.useEffect)(()=>()=>{W.current&&clearTimeout(W.current)},[]),S)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("nav",{className:"w-full flex justify-center items-center py-3",style:{background:"#FFFFFF"},children:(0,s.jsx)(c.default,{src:"/image.png",alt:"Logo",className:"h-12",style:{filter:"brightness(0) invert(0) drop-shadow(0 2px 4px rgba(0,0,0,0.15))"},width:48,height:48})}),(0,s.jsxs)("main",{style:{backgroundColor:"#DFE7CA",backgroundImage:"url('/pattern.webp')",backgroundRepeat:"repeat",backgroundSize:"300px",minHeight:"100vh",position:"relative"},className:"flex flex-col items-center py-8 px-2 sm:px-4",children:[(0,s.jsx)("div",{style:{position:"absolute",inset:0,width:"100%",height:"100%",background:"#DFE7CA",opacity:.95,pointerEvents:"none",zIndex:0}}),(0,s.jsx)("div",{style:{position:"relative",zIndex:1},children:(0,s.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,s.jsx)("div",{className:"mb-3 text-3xl",role:"img","aria-label":"leaf",children:"\uD83C\uDF43"}),(0,s.jsx)("div",{className:"text-lg font-bold text-black mb-1 text-center",children:"Δώσε προτεραιότητα σε εσένα!"}),(0,s.jsx)("div",{className:"text-sm text-gray-700 text-center",children:"Ανακάλυψε τα σημάδια που σου δείχνει το σώμα σου"})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 w-full max-w-md flex flex-col gap-0 border-2",style:{borderColor:"#B5C99A",position:"relative",zIndex:1},children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block mb-2 text-lg font-extrabold text-black",children:"Υπηρεσία"}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:d.map((e,t)=>(0,s.jsxs)("button",{type:"button",className:"flex flex-col items-start justify-center px-3 py-2 rounded-lg border transition min-w-[180px] h-[100px] ".concat(l.service===e.label?"bg-[#DFE7CA] border-[#DFE7CA]":"bg-gray-50 border-gray-200"),onClick:()=>{x({...l,service:e.label}),z(t),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>z(null),2e3)},children:[(0,s.jsxs)("div",{className:"flex items-center w-full h-[56px]",children:[(0,s.jsx)(c.default,{src:"/".concat(t+1,".png"),alt:"service",className:"h-16 w-16 object-contain mr-3 flex-shrink-0 transition-transform duration-300 ".concat(M===t?"animate-bounce":""),style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.55))"},width:64,height:64}),(0,s.jsx)("span",{className:"text-black font-bold text-xs text-left flex-1 break-words leading-tight",children:e.label})]}),(0,s.jsx)("span",{className:"text-xs text-black font-normal mt-1 ml-1 w-full truncate",children:e.duration})]},e.label))})]}),(0,s.jsx)("div",{className:"border-b border-gray-200 my-4"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block mb-2 text-lg font-extrabold text-black",children:"Ημερομηνία"}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:_.map(e=>(0,s.jsxs)("button",{type:"button",className:"flex flex-col items-center px-3 py-2 rounded-lg border transition min-w-[70px] ".concat(l.date===e.value?"bg-[#DFE7CA] border-[#DFE7CA]":"bg-gray-50 border-gray-200"),onClick:()=>{x(t=>({...t,date:e.value,time:""})),B(e=>e+1)},children:[(0,s.jsx)("span",{className:"font-bold text-black",children:e.label.split(" ")[1]}),(0,s.jsx)("span",{className:"text-xs text-black font-semibold",children:e.label.split(" ")[0]}),(0,s.jsx)("span",{className:"text-xs text-black font-semibold",children:e.label.split(" ")[2]})]},e.value))})]}),(0,s.jsx)("div",{className:"border-b border-gray-200 my-4"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block mb-2 text-lg font-extrabold text-black",children:"Ώρα"}),l.date?k?(0,s.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Φόρτωση διαθέσιμων ωρών..."}):C?(0,s.jsx)("div",{className:"text-sm text-red-600 mb-2",children:C}):null===w?null:0===w.length?(0,s.jsx)("div",{className:"text-black font-bold mb-2",children:"Δεν υπάρχουν διαθέσιμα ραντεβού για αυτή την ημέρα."}):(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:q&&q.map(e=>{let[t,a]=e.split("-").map(e=>e.trim()),r=D.some(e=>!!e&&(e.includes("-")?e.split("-")[0].trim()===t:!!t&&!!a&&e>=t&&e<a));return(0,s.jsx)("button",{type:"button",className:"px-3 py-2 rounded-lg border transition min-w-[70px] text-black font-bold text-base m-1 ".concat(l.time===e?"bg-[#DFE7CA] border-[#DFE7CA]":"bg-gray-50 border-gray-200"," ").concat(r?"opacity-50 cursor-not-allowed":""),onClick:()=>!r&&x({...l,time:e}),disabled:r,children:t},e)})}):(0,s.jsx)("div",{className:"text-black font-bold mb-2",children:"Επέλεξε ημερομηνία για να δεις τα διαθέσιμα ραντεβού."})]}),(0,s.jsx)("button",{type:"button",className:"w-full text-black font-extrabold py-2 px-4 rounded-2xl transition mt-2 border",style:{background:"#DFE7CA",borderColor:"#B5C99A",borderWidth:"1px"},onClick:e=>{e.preventDefault(),u(!0)},disabled:!l.service||!l.date||!l.time,children:"Κάνε Κράτηση"})]}),b&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-white/40 pointer-events-auto overflow-y-auto",children:(0,s.jsxs)("div",{className:"bg-white border-2 border-[#DFE7CA] rounded-2xl shadow-2xl p-4 w-full max-w-sm relative animate-fade-in",children:[(0,s.jsx)("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-black",onClick:()=>u(!1),"aria-label":"Κλείσιμο",children:(0,s.jsx)(r.A,{className:"h-6 w-6"})}),(0,s.jsx)("h2",{className:"text-xl font-extrabold mb-4 text-center text-black",children:"Στοιχεία Επικοινωνίας"}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:R,children:[(0,s.jsxs)("div",{className:"mb-4 bg-[#DFE7CA] border border-[#B5C99A] rounded-xl p-3 text-black flex flex-col gap-2 shadow-sm",children:[(0,s.jsxs)("div",{className:"font-bold text-base flex items-center gap-2 mb-1",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",style:{color:"#B5C99A"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 11c1.656 0 3-1.344 3-3s-1.344-3-3-3-3 1.344-3 3 1.344 3 3 3zm0 2c-2.67 0-8 1.337-8 4v3h16v-3c0-2.663-5.33-4-8-4z"})}),"Επιβεβαίωση Κράτησης"]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 bg-white/80 border border-[#B5C99A] rounded-lg px-3 py-1 text-sm font-semibold",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",style:{color:"#B5C99A"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-3-3v6"})}),l.service]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 bg-white/80 border border-[#B5C99A] rounded-lg px-3 py-1 text-sm font-semibold",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",style:{color:"#B5C99A"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.date&&(e=l.date,t={weekday:"long",year:"numeric",month:"long",day:"numeric"},S?new Date(e).toLocaleDateString("el-GR",t):e)]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 bg-white/80 border border-[#B5C99A] rounded-lg px-3 py-1 text-sm font-semibold",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",style:{color:"#B5C99A"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 8v4l3 3"})}),l.time&&l.time.split(" ")[0]]})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"name",className:"block mb-1 text-black font-semibold text-base",children:"Ονοματεπώνυμο"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"name",type:"text",name:"name",value:l.name,onChange:O,className:"w-full rounded-xl px-4 py-3 pl-12 text-black font-normal placeholder-gray-400 text-base shadow focus:outline-none focus:ring-2 focus:ring-[#FBDAC6] border border-gray-200",placeholder:"Πληκτρολογήστε το όνομά σας",required:!0}),(0,s.jsx)(n.A,{className:"h-5 w-5 absolute left-4 top-3 text-black"})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"telephone",className:"block mb-1 text-black font-semibold text-base",children:"Τηλέφωνο"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"telephone",type:"tel",name:"telephone",value:l.telephone,onChange:O,className:"w-full rounded-xl px-4 py-3 pl-12 text-black font-normal placeholder-gray-400 text-base shadow focus:outline-none focus:ring-2 focus:ring-[#FBDAC6] border border-gray-200",placeholder:"π.χ. 6901234567",required:!0}),(0,s.jsx)(i.A,{className:"h-5 w-5 absolute left-4 top-3 text-black"})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block mb-1 text-black font-semibold text-base",children:"Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"email",type:"email",name:"email",value:l.email,onChange:O,className:"w-full rounded-xl px-4 py-3 pl-12 text-black font-normal placeholder-gray-400 text-base shadow focus:outline-none focus:ring-2 focus:ring-[#FBDAC6] border border-gray-200",placeholder:"π.χ. name@email.com",required:!0}),(0,s.jsx)(o.A,{className:"h-5 w-5 absolute left-4 top-3 text-black"})]})]}),f&&(0,s.jsx)("div",{className:"text-center text-sm font-bold ".concat(f.includes("επιτυχία")?"text-green-600":"text-red-600"),children:f}),(0,s.jsx)("button",{type:"submit",className:"w-full text-black font-extrabold py-3 px-4 rounded-xl transition mt-2 disabled:opacity-60 text-base",style:{background:"#DFE7CA",border:"1px solid #DFE7CA"},disabled:h||l.name.trim().length<2||!/^\d{10,}$/.test(l.telephone.replace(/\D/g,""))||!/^\S+@\S+\.\S+$/.test(l.email),children:h?"Αποστολή...":"Ολοκλήρωση Κράτησης"}),(0,s.jsx)(m,{})]})]})}),I&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-white/40 pointer-events-auto",children:(0,s.jsxs)("div",{className:"bg-white border-2 border-[#DFE7CA] rounded-2xl shadow-2xl p-6 w-full max-w-xs flex flex-col items-center animate-fade-in",children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,s.jsxs)("svg",{className:"h-16 w-16 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"#DCFCE7"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12l3 3 5-5",stroke:"#22C55E"})]})}),(0,s.jsx)("div",{className:"text-xl font-bold text-green-700 mb-2 text-center",children:"Η κράτηση επιβεβαιώθηκε!"}),(0,s.jsx)("div",{className:"text-base text-black mb-2 text-center",children:"Σας περιμένουμε!"}),(0,s.jsx)("div",{className:"text-sm text-gray-700 mb-4 text-center",children:"Μπορείτε να κλείσετε την εφαρμογή."}),(0,s.jsx)("button",{className:"mt-2 px-6 py-2 bg-[#DFE7CA] border border-[#B5C99A] rounded-xl text-black font-bold text-base transition",onClick:()=>T(!1),children:"Κλείσιμο"})]})}),(0,s.jsx)("footer",{className:"mt-10 flex justify-center z-20 relative",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-[#DFE7CA] rounded-2xl shadow-lg px-4 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 border border-[#B5C99A]",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"bg-white rounded-full p-1 shadow-sm",children:(0,s.jsx)(i.A,{className:"h-4 w-4",style:{color:"#B5C99A"}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold text-black",children:"Τηλέφωνο"}),(0,s.jsx)("div",{className:"text-sm text-black",children:"2310 930 900"}),(0,s.jsx)("div",{className:"text-sm text-black",children:"6981 958 248"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"bg-white rounded-full p-1 shadow-sm",children:(0,s.jsx)(o.A,{className:"h-4 w-4",style:{color:"#B5C99A"}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold text-black",children:"Email"}),(0,s.jsx)("div",{className:"text-sm text-black",children:"info@avgouste.gr"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1 md:justify-end",children:[(0,s.jsx)("span",{className:"bg-white rounded-full p-1 shadow-sm",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",style:{color:"#B5C99A"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 11c1.656 0 3-1.344 3-3s-1.344-3-3-3-3 1.344-3 3 1.344 3 3 3zm0 2c-2.67 0-8 1.337-8 4v3h16v-3c0-2.663-5.33-4-8-4z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold text-black",children:"Διεύθυνση"}),(0,s.jsx)("div",{className:"text-sm text-black",children:"Εφέσου 20"}),(0,s.jsx)("div",{className:"text-sm text-black",children:"Άνω Τούμπα, Θεσσαλονίκη"})]})]})]})})]})]}):null}function m(){let[e,t]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsxs)("button",{type:"button",className:"w-full flex items-center justify-between px-3 py-2 bg-[#DFE7CA] rounded-xl border border-[#B5C99A] text-black font-bold text-base focus:outline-none focus:ring-2 focus:ring-[#B5C99A] transition",onClick:()=>t(e=>!e),"aria-expanded":e,"aria-controls":"payment-details",children:["Πληροφορίες",(0,s.jsx)("svg",{className:"h-5 w-5 ml-2 transition-transform ".concat(e?"rotate-180":""),fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),e&&(0,s.jsxs)("div",{id:"payment-details",className:"mt-2 bg-[#DFE7CA] border border-[#B5C99A] rounded-xl px-4 py-3 text-black text-sm animate-fade-in",children:[(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"font-bold text-black",children:"Πληρωμή στο Ιατρείο"}),(0,s.jsxs)("ul",{className:"list-disc ml-5 mt-1",children:[(0,s.jsx)("li",{children:"Πληρωμή με κάρτα"}),(0,s.jsx)("li",{children:"Μετρητά"})]})]}),(0,s.jsx)("div",{className:"mb-2",children:"Κατά την επίσκεψη μπορείς να διαλέξεις τον τρόπο πληρωμής ανάμεσα από τις παραπάνω επιλογές."}),(0,s.jsx)("div",{className:"mb-1",children:(0,s.jsx)("span",{className:"font-bold text-black",children:"Ακύρωση"})}),(0,s.jsx)("div",{children:"Μπορείς να ακυρώσεις το ραντεβού σου μέχρι 5 ώρες πριν."})]})]})}},66915:(e,t,l)=>{Promise.resolve().then(l.bind(l,33792))}},e=>{var t=t=>e(e.s=t);e.O(0,[372,441,684,358],()=>t(66915)),_N_E=e.O()}]);